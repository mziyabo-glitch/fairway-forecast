<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

  <!-- Primary Meta Tags -->
  <title>Golf Course Weather & Forecast | Fairway Weather ‚Äì Tee Time Conditions</title>
  <meta name="description" content="Golf course weather forecast app. Check wind, rain & playability before your round. Find the best tee time with real-time golf weather conditions for any course worldwide." />
  <meta name="keywords" content="golf course weather, golf weather forecast, golf weather app, tee time weather, golf playability, golf wind conditions, golf rain forecast, best time to play golf, fairway weather golf, golf forecast today" />
  <meta name="author" content="Fairway Weather - Golf Course Forecast" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://www.fairwayweather.com/" />
  
  <!-- Disambiguation: This is a golf app, not Fairway Kansas weather -->
  <meta name="geo.region" content="GLOBAL" />
  <meta name="subject" content="Golf Course Weather Forecasts and Tee Time Planning" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.fairwayweather.com/" />
  <meta property="og:site_name" content="Fairway Weather - Golf Course Forecast" />
  <meta property="og:title" content="Golf Course Weather Forecast | Check Conditions Before You Tee Off" />
  <meta property="og:description" content="Free golf weather app. Check wind, rain & course playability before your round. Real-time golf course weather forecasts worldwide." />
  <meta property="og:image" content="https://www.fairwayweather.com/icons/icon-512.png" />
  <meta property="og:image:width" content="512" />
  <meta property="og:image:height" content="512" />
  <meta property="og:image:alt" content="Fairway Weather Golf Forecast App" />
  <meta property="og:locale" content="en_US" />
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@fairwayweather" />
  <meta name="twitter:title" content="Golf Course Weather Forecast | Fairway Weather" />
  <meta name="twitter:description" content="Check golf course weather before your round. Wind, rain, playability scores & best tee times for any golf course." />
  <meta name="twitter:image" content="https://www.fairwayweather.com/icons/icon-512.png" />
  <meta name="twitter:image:alt" content="Fairway Weather Golf Forecast App" />

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#1F6F78" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="Fairway Forecast" />

  <!-- Structured Data for Rich Snippets -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Fairway Weather - Golf Course Forecast",
    "alternateName": ["Golf Course Weather App", "Fairway Weather Golf", "Golf Weather Forecast"],
    "url": "https://www.fairwayweather.com",
    "description": "Golf course weather forecast app. Check wind, rain and playability conditions before your round. Find the best tee time with real-time golf weather for any course worldwide.",
    "applicationCategory": "SportsApplication",
    "applicationSubCategory": "Golf Weather Forecast",
    "operatingSystem": "Any",
    "browserRequirements": "Requires JavaScript",
    "softwareVersion": "1.0",
    "keywords": "golf weather, golf course forecast, tee time weather, golf playability, golf conditions",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "description": "Free golf course weather forecasts"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "150",
      "bestRating": "5",
      "worstRating": "1"
    },
    "author": {
      "@type": "Organization",
      "name": "Fairway Weather",
      "url": "https://www.fairwayweather.com"
    },
    "about": {
      "@type": "Thing",
      "name": "Golf",
      "description": "Weather forecasts specifically designed for golfers"
    }
  }
  </script>
  
  <!-- Additional Schema: SportsOrganization context -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Fairway Weather - Golf Course Forecast",
    "alternateName": "Golf Course Weather",
    "url": "https://www.fairwayweather.com",
    "description": "Golf weather forecasts for courses worldwide",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://www.fairwayweather.com/?search={search_term_string}",
      "query-input": "required name=search_term_string"
    }
  }
  </script>

  <!-- Security -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline';
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src 'self' https://fonts.gstatic.com;
    img-src 'self' https: data:;
    connect-src 'self' https://fairway-forecast-api.mziyabo.workers.dev https://*.supabase.co https://api.openweathermap.org;
    frame-ancestors 'none';
    base-uri 'self';
    form-action 'self';
  " />

  <!-- Icons -->
  <link rel="icon" href="./icons/favicon.ico" />
  <link rel="apple-touch-icon" href="./icons/icon-192.png" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <!-- Styles -->
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <main class="ff-wrap">
    <section class="ff-shell">
      <!-- ================= HEADER ================= -->
      <header class="ff-header">
        <div class="ff-brand">
          <img
            src="./icons/icon-192.png"
            alt="Fairway Weather - Golf Course Forecast App"
            class="ff-logo"
          />
          <div class="ff-brand-text">
            <h1 class="ff-brand-title">Fairway Weather <span class="ff-brand-sub">Golf Forecast</span></h1>
            <span class="ff-tagline">Golf course weather ‚Äì know before you tee</span>
          </div>
        </div>
        <p class="ff-hero-line">
          <strong>Golf weather forecast:</strong> tee time conditions, wind impact, rain timing & playability scores.
        </p>
      </header>

      <!-- ================= SEARCH ================= -->
      <section class="ff-panel ff-panel--search" aria-label="Search">
        <label class="ff-label" for="searchInput">
          Search location or golf course
        </label>

        <div class="ff-search-row">
          <input
            id="searchInput"
            class="ff-input"
            type="search"
            placeholder='e.g. Swindon, GB or "golf club"'
            autocomplete="off"
            inputmode="search"
            aria-describedby="searchHelp"
          />

          <button
            id="btnGeo"
            class="ff-btn ff-btn-ghost"
            type="button"
            title="Use my location"
            aria-label="Use my location"
          >
            ‚åñ
          </button>
        </div>

        <button
          id="searchBtn"
          class="ff-btn ff-btn-primary"
          type="button"
          style="width:100%;"
        >
          Search
        </button>

        <div id="searchHelp" class="ff-hint">
          Start typing to see course suggestions
        </div>

        <div class="ff-units-row">
          <label class="ff-label" for="unitsSelect">Units</label>
          <select id="unitsSelect" class="ff-select">
            <option value="metric">¬∞C / m¬∑s</option>
            <option value="imperial">¬∞F / mph</option>
          </select>
        </div>
      </section>

      <!-- ‚úÖ NEW: SEARCH RESULTS SLOT (shows ‚ÄúSelect a result‚Äù directly under search) -->
      <section id="searchResultsSlot" class="ff-search-results" aria-live="polite" aria-label="Search results">
        <!-- app.js renders the ‚ÄúSelect a result‚Äù card/list here -->
      </section>

      <!-- ================= LOCATION (moved up, just under search) ================= -->
      <section aria-label="Location">
        <div class="ff-section-label">Location</div>
        <div id="locationSlot"></div>

        <div class="ff-hint">
          Tap ‚òÖ to add or remove favourites
        </div>
      </section>

      <!-- ================= TABS ================= -->
      <nav class="ff-tabs" aria-label="Forecast tabs">
        <button id="tabCurrent" class="ff-tab active" type="button">Current</button>
        <button id="tabHourly" class="ff-tab" type="button">Hourly</button>
        <button id="tabDaily" class="ff-tab" type="button">Daily</button>
      </nav>

      <!-- ================= TEE-TIME DECISION STRIP ================= -->
      <section id="teeTimeStripSection" class="ff-tee-time-strip" style="display:none;" aria-label="Tee time decision">
        <div class="ff-tee-strip-card">
          <!-- Eyebrow label -->
          <div class="ff-tee-eyebrow">Your tee time</div>
          
          <!-- Top row: Status pill + Selected time display -->
          <div class="ff-tee-strip-header">
            <div class="ff-tee-strip-status" id="teeTimeStatus">
              <span class="ff-tee-status-icon" id="teeTimeIcon" aria-hidden="true">‚è≥</span>
              <span class="ff-tee-status-label" id="teeTimeLabel">Select tee time</span>
            </div>
            <!-- Selected tee time display -->
            <div class="ff-tee-selected-time" id="teeSelectedTime" aria-live="polite">
              <span id="teeSelectedLabel"></span>
            </div>
          </div>

          <!-- Date chip selector -->
          <div class="ff-tee-date-row">
            <div class="ff-tee-date-chips" id="teeDateChips" role="group" aria-label="Select date">
              <!-- Date chips populated by JS -->
            </div>
          </div>

          <!-- Time selector row -->
          <div class="ff-tee-time-row">
            <label class="ff-tee-time-label">
              <span class="ff-tee-time-icon" aria-hidden="true">üïê</span>
              Time
            </label>
            <div class="ff-tee-time-selector" role="group" aria-label="Select tee time">
              <select id="teeTimeSelect" class="ff-tee-select" aria-describedby="teeTimeDesc">
                <!-- Options populated by JS -->
              </select>
            </div>
          </div>
          
          <!-- Applied confirmation (hidden by default) -->
          <div class="ff-tee-applied-msg" id="teeAppliedMsg" style="display:none;">
            Applied from Round Planner
          </div>

          <!-- Metrics row -->
          <div class="ff-tee-strip-metrics" id="teeTimeMetrics" aria-live="polite">
            <div class="ff-tee-metric">
              <span class="ff-tee-metric-icon" aria-hidden="true">üåßÔ∏è</span>
              <span class="ff-tee-metric-label">Rain</span>
              <strong class="ff-tee-metric-value" id="teeMetricRain">‚Äî</strong>
            </div>
            <div class="ff-tee-metric">
              <span class="ff-tee-metric-icon" aria-hidden="true">üí®</span>
              <span class="ff-tee-metric-label">Wind</span>
              <strong class="ff-tee-metric-value" id="teeMetricWind">‚Äî</strong>
            </div>
            <div class="ff-tee-metric">
              <span class="ff-tee-metric-icon" aria-hidden="true">üå°Ô∏è</span>
              <span class="ff-tee-metric-label">Temp</span>
              <strong class="ff-tee-metric-value" id="teeMetricTemp">‚Äî</strong>
            </div>
            <div class="ff-tee-metric">
              <span class="ff-tee-metric-icon" aria-hidden="true">üí•</span>
              <span class="ff-tee-metric-label">Gusts</span>
              <strong class="ff-tee-metric-value" id="teeMetricGust">‚Äî</strong>
            </div>
          </div>

          <!-- Summary text -->
          <p class="ff-tee-strip-summary" id="teeTimeSummary" aria-live="polite">
            Select a tee time to see conditions for your 3-hour round.
          </p>
          <span id="teeTimeDesc" class="ff-sr-only">Shows weather conditions for a 3-hour round starting at the selected time. Only daylight tee times are available.</span>
        </div>
      </section>
      
      <!-- ================= ADVANCED OPTIONS (Feature-flagged - hidden by default) ================= -->
      <section id="advancedSection" class="ff-advanced ff-feature-advanced-wind" style="display:none;">
        <button type="button" id="advancedToggle" class="ff-advanced-toggle">
          <span>Advanced</span>
          <span id="advancedArrow" class="ff-advanced-arrow">‚ñº</span>
        </button>
        <div id="advancedOptions" class="ff-advanced-options" style="display:none;">
          <div class="ff-course-direction">
            <label class="ff-label" for="courseDirectionSelect">Course direction (for wind impact)</label>
            <select id="courseDirectionSelect" class="ff-select">
              <option value="">Not set</option>
              <option value="N">N (North)</option>
              <option value="NE">NE (Northeast)</option>
              <option value="E">E (East)</option>
              <option value="SE">SE (Southeast)</option>
              <option value="S">S (South)</option>
              <option value="SW">SW (Southwest)</option>
              <option value="W">W (West)</option>
              <option value="NW">NW (Northwest)</option>
            </select>
          </div>
        </div>
      </section>

      <!-- ================= PREMIUM TEASER (shown when premium features disabled) ================= -->
      <section id="premiumTeaserSection" class="ff-premium-teaser" style="display:none;">
        <div class="ff-premium-card">
          <div class="ff-premium-header">
            <span class="ff-premium-pill">Premium</span>
            <span class="ff-premium-title">Coming soon</span>
          </div>
          <ul class="ff-premium-features">
            <li>
              <span class="ff-premium-feature-icon">üìÖ</span>
              <span class="ff-premium-feature-text">Round Planner ‚Äî best daylight tee times</span>
            </li>
            <li>
              <span class="ff-premium-feature-icon">üí®</span>
              <span class="ff-premium-feature-text">Advanced Wind Impact ‚Äî gale detection</span>
            </li>
          </ul>
          <button type="button" id="getPremiumBtn" class="ff-btn ff-btn-premium">
            Get Premium
          </button>
        </div>
      </section>

      <!-- ================= ROUND PLANNER (Feature-flagged - hidden by default) ================= -->
      <section aria-label="Round planner" id="roundPlannerSection">
        <div class="ff-section-label">Round Planner</div>

        <section
          id="verdictCard"
          class="ff-panel ff-verdict ff-verdict--neutral"
          aria-live="polite"
        >
          <div class="ff-planner-subtitle">Best daylight tee time. Tap to apply.</div>
          
          <div class="ff-verdict-main">
            <div class="ff-verdict-badge" aria-hidden="true">
              <span id="verdictIcon">‚è≥</span>
            </div>

            <div class="ff-verdict-text">
              <div id="verdictLabel" class="ff-verdict-label">Loading‚Ä¶ <span class="ff-info-icon" title="Click for more info">‚ÑπÔ∏è</span></div>
              <div id="verdictReason" class="ff-verdict-reason">‚Äî</div>

              <div class="ff-verdict-quick-stats" id="verdictQuickStats"></div>

              <div class="ff-verdict-time" id="verdictTime">
                <span id="localTime">‚Äî</span>
                <span class="ff-time-separator">¬∑</span>
                <span id="gmtTime">‚Äî</span>
              </div>
              <div class="ff-time-hint">Course local time</div>

              <div class="ff-verdict-meta">
                <span>Recommended tee time</span>
                <strong id="verdictBestTime">‚Äî</strong>
              </div>
              
              <!-- Apply to tee time button -->
              <button type="button" id="applyPlannerBtn" class="ff-btn ff-btn-apply" style="display:none;">
                Apply to my tee time
              </button>
            </div>
          </div>
        </section>

        <!-- ================= PLAYABILITY INDEX ================= -->
        <section class="ff-panel ff-panel--challenge" style="margin-top:var(--gap);">
          <div class="ff-challenge">
            <div class="ff-challenge-header">
              <div class="ff-challenge-title">
                Playability Index
                <span class="ff-info-icon" id="playabilityInfoBtn" title="How is this calculated?">‚ÑπÔ∏è</span>
              </div>
              <div id="challengeRating" class="ff-challenge-badge">‚Äî</div>
            </div>
            <div id="challengeReason" class="ff-challenge-reason"></div>
          </div>
        </section>
      </section>

      <!-- ================= RESULTS (FORECAST ONLY) ================= -->
      <section id="results" class="ff-results" aria-live="polite">
        <div>
          <div class="ff-section-label">Forecast</div>
          <div id="forecastSlot"></div>
        </div>
      </section>

      <!-- ================= ROUND-BASED PLAYABILITY ================= -->
      <section id="roundPlayabilitySection" style="display:none;">
        <div class="ff-section-label">Round Windows</div>
        <div id="roundPlayabilityCard" class="ff-card"></div>
      </section>

      <!-- ================= COURSE DIFFICULTY ================= -->
      <section id="courseDifficultySection" class="ff-panel ff-panel--difficulty" style="display:none;">
        <div class="ff-difficulty">
          <div class="ff-difficulty-header">
            <div class="ff-difficulty-title">Course Difficulty</div>
            <div id="difficultyBadge" class="ff-difficulty-badge">‚Äî</div>
          </div>
          <div class="ff-difficulty-stats">
            <div class="ff-difficulty-stat">
              <span class="ff-difficulty-label">Slope</span>
              <strong id="slopeValue">‚Äî</strong>
            </div>
            <div class="ff-difficulty-stat">
              <span class="ff-difficulty-label">Rating</span>
              <strong id="ratingValue">‚Äî</strong>
            </div>
            <div class="ff-difficulty-stat">
              <span class="ff-difficulty-label">Par</span>
              <strong id="parValue">‚Äî</strong>
            </div>
          </div>
        </div>
      </section>

      <!-- ================= LAST UPDATED ================= -->
      <div id="lastUpdated" class="ff-last-updated"></div>
    </section>

    <!-- ================= FOOTER ================= -->
    <footer class="ff-foot">
      <p><strong>Fairway Weather</strong> ‚Äì Golf Course Weather Forecasts</p>
      <p class="ff-foot-tagline">Check golf weather conditions before your round. Best tee times & playability for golfers worldwide.</p>
      <p class="ff-foot-credits">Weather data ¬© <a href="https://openweathermap.org" target="_blank" rel="noopener">OpenWeather</a> ¬∑ Golf course data ¬© GolfCourseAPI</p>
      <p class="ff-foot-copy">¬© 2024 Fairway Weather ¬∑ Not affiliated with Fairway, Kansas</p>
    </footer>

  </main>

  <!-- PREMIUM EXPLAINER MODAL -->
  <div id="infoModal" class="ff-modal" hidden>
    <div class="ff-modal-backdrop"></div>
    <div class="ff-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="infoModalTitle">
      <button type="button" id="infoModalClose" class="ff-modal-close" aria-label="Close explanation">√ó</button>
      <h2 id="infoModalTitle" class="ff-modal-title"></h2>
      <p id="infoModalBody" class="ff-modal-body"></p>
    </div>
  </div>

  <script src="./config.js"></script>
  <script src="./app.js"></script>
</body>
</html>