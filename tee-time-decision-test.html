<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tee-Time Decision Strip - Test Scenarios (v3 - Round Planner)</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: Inter, system-ui, -apple-system, sans-serif;
      background: #E4EEE9;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    h1, h2 { color: #071512; }
    .scenario {
      background: #fff;
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 24px;
      box-shadow: 0 4px 20px rgba(6,24,20,.12);
    }
    .scenario h3 {
      margin-top: 0;
      color: #0F766E;
    }
    .input-data, .output-data {
      background: #f5f5f5;
      border-radius: 8px;
      padding: 12px;
      margin: 12px 0;
      font-family: monospace;
      font-size: 13px;
      overflow-x: auto;
    }
    .output-data { background: #e8f5e9; }
    .output-data.risky { background: #fff8e1; }
    .output-data.no-chance { background: #ffebee; }
    .status-play { color: #15803d; font-weight: bold; }
    .status-risky { color: #a16207; font-weight: bold; }
    .status-no-chance { color: #dc2626; font-weight: bold; }
    pre { margin: 0; white-space: pre-wrap; }
    .result { margin-top: 10px; padding: 10px; border-left: 4px solid #0F766E; }
    .result.risky { border-left-color: #f59e0b; }
    .result.no-chance { border-left-color: #dc2626; }
    .new-badge {
      display: inline-block;
      background: #0F766E;
      color: white;
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: bold;
      margin-left: 8px;
    }
    .badge-v3 {
      background: #7c3aed;
    }
    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin: 12px 0;
    }
    .comparison-table th, .comparison-table td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }
    .comparison-table th {
      background: #f0f0f0;
      font-weight: 700;
    }
  </style>
</head>
<body>
  <h1>ğŸŒï¸ Fairway Forecast v3 <span class="new-badge badge-v3">ROUND PLANNER</span></h1>
  <p>This page documents the upgraded UI with clear separation between "Your tee time" and "Round Planner".</p>

  <div class="scenario">
    <h3>ğŸ†• Version 3 Changes</h3>
    <ul>
      <li><strong>Hidden Advanced Wind:</strong> Feature-flagged behind <code>FEATURE_ADVANCED_WIND</code></li>
      <li><strong>Renamed Decision â†’ Round Planner:</strong> Clear that it's a recommendation</li>
      <li><strong>Your tee time eyebrow:</strong> Strip now labeled "Your tee time"</li>
      <li><strong>Premium time format:</strong> "Today Â· 14:19", "Tomorrow Â· 09:10", "Sun 4 Â· 10:45"</li>
      <li><strong>Apply button:</strong> One-tap sync from Round Planner to your tee time</li>
      <li><strong>Confirmation message:</strong> "Applied from Round Planner" (auto-fades)</li>
      <li><strong>Best window prefix:</strong> Round Planner shows "Best window: PLAY" not just "Play"</li>
    </ul>
  </div>

  <div class="scenario">
    <h3>UI Component Comparison</h3>
    <table class="comparison-table">
      <tr>
        <th>Component</th>
        <th>Purpose</th>
        <th>Time Source</th>
        <th>Label</th>
      </tr>
      <tr>
        <td><strong>Tee-Time Decision Strip</strong></td>
        <td>Your selected tee time decision</td>
        <td>User-selected date + time</td>
        <td>"Your tee time" + "Today Â· 14:19"</td>
      </tr>
      <tr>
        <td><strong>Round Planner</strong></td>
        <td>Recommended best window</td>
        <td>Algorithm-determined</td>
        <td>"Best window: PLAY" + "Recommended tee time: 18:13"</td>
      </tr>
    </table>
  </div>

  <div class="scenario">
    <h3>Scenario 1: NO CHANCE Strip + PLAY Planner (No Confusion)</h3>
    <p>User selects a bad time, but Round Planner suggests a better window.</p>
    
    <div class="input-data">
      <strong>User Selection:</strong>
      <pre>
Selected Date: Today
Selected Time: 14:00 (during rain)
      </pre>
      
      <strong>Forecast Data:</strong>
      <pre>
14:00-17:00: Heavy rain (90%), 35mph gusts
09:00-12:00: Dry (10% chance), 8mph wind
      </pre>
    </div>
    
    <div class="output-data no-chance">
      <strong>Tee-Time Decision Strip:</strong>
      <div class="result no-chance">
        <p><em>"Your tee time"</em></p>
        <p><strong>Today Â· 14:00</strong></p>
        <p><span class="status-no-chance">â›” NO CHANCE</span></p>
        <p>Persistent rain. Strong gustsâ€”expect disruption.</p>
      </div>
    </div>
    
    <div class="output-data">
      <strong>Round Planner:</strong>
      <div class="result">
        <p><em>"Best daylight tee time. Tap to apply."</em></p>
        <p><span class="status-play">Best window: âœ… PLAY</span></p>
        <p>Recommended tee time: <strong>09:00</strong></p>
        <p><button style="background:#e8f5e9; border:1px solid #0F766E; padding:6px 12px; border-radius:8px; cursor:pointer;">Apply to my tee time</button></p>
      </div>
    </div>
    
    <p><strong>âœ“ Acceptance:</strong> User clearly sees their bad choice (NO CHANCE) and the better option (Best window: PLAY). No confusion.</p>
  </div>

  <div class="scenario">
    <h3>Scenario 2: User Applies Recommended Time</h3>
    <p>User clicks "Apply to my tee time" on the Round Planner.</p>
    
    <div class="input-data">
      <strong>Before Apply:</strong>
      <pre>
Strip: Today Â· 14:00 â†’ NO CHANCE
Planner: Best window: PLAY, Recommended: 09:00
      </pre>
    </div>
    
    <div class="output-data">
      <strong>After Apply:</strong>
      <div class="result">
        <p><strong>Strip updates to:</strong></p>
        <p><em>"Your tee time"</em></p>
        <p><strong>Today Â· 09:00</strong></p>
        <p><span class="status-play">âœ… PLAY</span></p>
        <p>Dry window likely. Light winds.</p>
        <p style="background:#e8f5e9; padding:6px; border-radius:6px; text-align:center; font-size:12px; color:#0F766E;">
          Applied from Round Planner <em>(fades after 1.5s)</em>
        </p>
      </div>
    </div>
    
    <p><strong>âœ“ Acceptance:</strong> Strip instantly updates. Confirmation appears and fades. User's tee time is now optimal.</p>
  </div>

  <div class="scenario">
    <h3>Scenario 3: Advanced Wind Hidden</h3>
    <p>The Advanced dropdown is hidden until gale detection is complete.</p>
    
    <div class="input-data">
      <strong>config.js:</strong>
      <pre>
window.APP_CONFIG = {
  // ...
  FEATURE_ADVANCED_WIND: false,  // â† Hidden
};
      </pre>
    </div>
    
    <div class="output-data">
      <strong>Expected UI:</strong>
      <div class="result">
        <p>âœ“ No "Advanced" dropdown visible anywhere</p>
        <p>âœ“ Course direction selector not shown</p>
        <p>âœ“ Code preserved, just hidden behind flag</p>
      </div>
    </div>
    
    <p><strong>âœ“ Acceptance:</strong> When <code>FEATURE_ADVANCED_WIND = false</code>, the Advanced section never appears.</p>
  </div>

  <h2>Feature Flag Reference</h2>
  <div class="scenario">
    <div class="input-data">
      <pre>
// config.js
window.APP_CONFIG = {
  // ... other config ...
  
  // Feature flags
  FEATURE_ADVANCED_WIND: false,  // Set to true when gale logic is complete
};
      </pre>
    </div>
  </div>

  <h2>Helper Function: formatTeeLabel</h2>
  <div class="scenario">
    <div class="input-data">
      <pre>
// Format tee time label in premium format
formatTeeLabel(tsSeconds, tzOffset) â†’ string

Examples:
  formatTeeLabel(todayAt1419, tz) â†’ "Today Â· 14:19"
  formatTeeLabel(tomorrowAt0910, tz) â†’ "Tomorrow Â· 09:10"
  formatTeeLabel(sundayAt1045, tz) â†’ "Sun 4 Â· 10:45"
      </pre>
    </div>
  </div>

  <h2>UI Layout (Mobile-First)</h2>
  <div class="scenario">
    <div class="input-data">
      <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YOUR TEE TIME                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [âœ… PLAY]         Today Â· 14:19             â”‚ â”‚
â”‚ â”‚ [Today] [Tmrw] [Sat 3] [Sun 4] [Mon 5]      â”‚ â”‚
â”‚ â”‚ ğŸ• Time: [14:00 â–¼]                          â”‚ â”‚
â”‚ â”‚ ğŸŒ§ï¸ 8%  ğŸ’¨ 8mph  ğŸŒ¡ï¸ 18Â°C  ğŸ’¥ 13mph          â”‚ â”‚
â”‚ â”‚ Dry window likely. Light winds.             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ROUND PLANNER                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Best daylight tee time. Tap to apply.       â”‚ â”‚
â”‚ â”‚ Best window: âœ… PLAY                         â”‚ â”‚
â”‚ â”‚ Recommended tee time: 09:00                 â”‚ â”‚
â”‚ â”‚ [ Apply to my tee time ]                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      </pre>
    </div>
  </div>

  <h2>Acceptance Tests</h2>
  <div class="scenario">
    <ul>
      <li>âœ… <strong>Test 1:</strong> When strip says NO CHANCE, planner shows "Best window: PLAY" (not confusing "Play")</li>
      <li>âœ… <strong>Test 2:</strong> Advanced dropdown not visible when <code>FEATURE_ADVANCED_WIND = false</code></li>
      <li>âœ… <strong>Test 3:</strong> Clicking "Apply to my tee time" updates strip instantly</li>
      <li>âœ… <strong>Test 4:</strong> Confirmation message "Applied from Round Planner" appears and fades</li>
      <li>âœ… <strong>Test 5:</strong> UI remains compact and clean on mobile (no bloat)</li>
      <li>âœ… <strong>Test 6:</strong> Both components display times in course local time</li>
    </ul>
  </div>

  <script>
    console.log("ğŸŒï¸ Fairway Forecast v3 Test Scenarios");
    console.log("======================================");
    console.log("");
    console.log("Key improvements:");
    console.log("  â€¢ Your tee time vs Round Planner - clear distinction");
    console.log("  â€¢ 'Best window: PLAY' prefix prevents confusion");
    console.log("  â€¢ One-tap Apply syncs recommended time");
    console.log("  â€¢ Advanced wind hidden until complete");
    console.log("");
    console.log("Open the main app (index.html) to test the component.");
  </script>
</body>
</html>
